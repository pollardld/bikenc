/*	Map  ** =================================================== */
#map {
	height: 100%;
	left: 0;
	position: absolute;
	width: 100%;
}

.map-wrapper {
	overflow: visible;
}

.mapbox-logo-true {
	display: none;
}

.map-overlay {
	background: rgba(255,255,255,0.8);
	bottom: 0;
	left: 0;
	padding: 1rem 5%;
	position: absolute;
	z-index: 2;
	width: 100%;
	@include vendor-prefix (transition, 0.3s left ease-in-out);

	h4 {
		font-size: .875em;
		font-weight: $bold;
		margin-bottom: .5rem;
	}

	p {
		font-size: .875em;
		font-weight: $med;
		margin-bottom: .75rem;
	}

	a {
		text-shadow: none;
	}

	&.collapse {
		left: -100%;
	}
}

#infobox {
	bottom: 1%;
	bottom: 2vh;
	color: $textColor;
	left: 10%;
	position: absolute;
	width: 80%;
	z-index: 3;
	@include vendor-prefix (transition, 0.2s all ease-in-out);

	section {
		background: $bg;
		border: 1px solid #fff;
		box-shadow: 5px 5px $bg, -5px 0 $bg, 5px -5px $bg, -5px 5px $bg, -5px -5px $bg;
		padding: 10px 0;

		.clear-infobox {
			background: rgba(255,255,255,0.4);
			border-radius: 50%;
			color: #7f7f7f;
			cursor: pointer;
			font-weight: 700;
			height: 30px;
			font-family: $opensans;
			font-size: .875em;
			line-height: 30px;
			opacity: 0.8;
			position: absolute;
			text-align: center;
			top: -30px;
			right: -30px;
			width: 30px;
			@include vendor-prefix(transition, 0.2s opacity ease-in-out);

			&:hover {
				background: rgba(255,255,255,0.6);
				opacity: 1;
			}
		}
	}

	div {
		display: block;
		font-family: $opensans;
		font-size: .6375em;
		font-weight: 400;
		margin: 0 auto;
		width: 90%;

		&:nth-of-type(2),
		&:nth-of-type(3) {
			display: inline-block;
			margin-left: 5%;
			width: auto;
		}
	}

	h4 {
		border-bottom: 1px solid #999;
		margin: 0 auto .5rem;
		padding-bottom: .3125rem;
		text-align: center;
		width: 90%;
	}

	strong {
		font-family: $opensans;
		font-size: .8125em;
		font-weight: 600;
		text-transform: uppercase;
	}

	.elevation {
        margin-bottom: 0;
    }

    .c3 {
        float: left;
        margin-left: 5%;
        width: 50%;
    }

	.chart {

		strong {
			left: 0;
			position: absolute;
			top: 0;
		}
	}

	.popup-img-wrapper {
		display: block;
		height: 58px;
		float: right;
		margin: -8px 5% 0 0;
		overflow: hidden;
		position: relative;
		width: 40%;
	}

	.popup-img {
		left: 0;
		position: absolute;
		width: 100%;
	}

	.popup-marker {
		left: 47%;
		height: 35px;
		position: absolute;
		top: -20px;
		width: 28px;
	}

	.description {
		clear: both;
		font-family: $sans;
		font-size: .5em;
		font-weight: 300;
		line-height: 1.5em;
		margin-bottom: .25rem;
		padding-top: 5px;
	}

	.more-detail {
		font-family: $sans;
	}

	.us_one {
		h4, .more-detail { color: $us1; }
	}

	.nc_two {
		h4, .more-detail { color: $nc2; }
	}

	.nc_three {
		h4, .more-detail { color: $nc3; }
	}

	.nc_four {
		h4, .more-detail { color: $nc4; }
	}

	.nc_five {
		h4, .more-detail { color: $nc5; }
	}

	.nc_six {
		h4, .more-detail { color: $nc6; }
	}

	.nc_seven {
		h4, .more-detail { color: $nc7; }
	}

	.nc_eight {
		h4, .more-detail { color: $nc8; }
	}

	.sandhills {
		h4, .more-detail { color: $sandhills; }
	}
}

.c3-axis-x {

	text, .tick {
		opacity: 0;
	}
}

.leaflet-popup-close-button {
	background-image: none;
	background-color: rgba(255,255,255,0.8);
	border-radius: 50%;
	font-family: $sans;
	font-size: 1.5em;
	font-weight: 400;
}

.icon-city {

	.city-poi {
		height: 100%;
		width: 100%;

		svg {
			height: 100%;
			width: 100%;
		}
	}
}

#intro-start {
	border-radius: 50%;
	bottom: 10px;
	color: rgba(255,255,255,0.8);
	font-weight: $bold;
	font-size: .75em;
	height: 16px;
	left: 10px;
	line-height: 16px;
	position: absolute;
	text-align: center;
	width: 16px;
	z-index: 101;

	&:before,
	&:after {
		border-radius: 50%;
		content: '';
		position: absolute;
		z-index: -1;
	}

	&:before {
		bottom: -5px;
		background: rgba(255,255,255,0.6);
		height: 26px;
		left: -5px;
		width: 26px;
	}

	&:after {
		bottom: 0;
		background: $textColor;
		height: 16px;
		left: 0;
		width: 16px;
	}
}

.zoom-info {
	color: $midGrey;
	display: none;
	font-size: .5em;
	left: 20%;
	position: absolute;
	right: 20%;
	text-align: center;
	top: 2px;
	width: 60%;
	z-index: 1;

	&.visible {
		display: block;
	}
}

.elevation-title {
	color: $textColor;
	display: none;
	font-size: .675em;
	left: 70px;
	position: absolute;
	top: 4px;
	z-index: 1;

	&.visible {
		display: block;
	}
}

.elevation-wrap {
	position: relative;

	.zoom-info {
		top: 30px;
	}
}

.route-number {
	color: #fff;
	height: 28px;
	font-family: $display;
	font-size: 1em;
	font-weight: normal;
	left: 47%;
	line-height: 28px;
	position: absolute;
	text-align: center;
	top: -20px;
	width: 28px;
	z-index: 5;
}

.planner-link {
	background: $primaryColor;
	color: #fff;
	display: inline-block;
	font-family: $opensans;
	font-size: .75em;
	font-weight: 600;
	letter-spacing: .025em;
	padding: .25rem 1rem;
	text-transform: uppercase;
}

.custom-popup, .leaflet-popup-pane {

	a.leaflet-popup-close-button {
		color: #9f9f9f;
		font-weight: 700;
		height: 20px;
		font-family: $opensans;
		font-size: 1.6375em;
		line-height: 20px;
		padding: 0;
		pointer-events: none;
		position: absolute;
		text-indent: 0;
		text-align: center;
		top: -24px;
		right: -24px;
		width: 20px;
	}

	.leaflet-popup-content-wrapper {
		background: $bg;
		border: 1px solid #fff;
		border-radius: 0;
		box-shadow: 5px 5px $bg, -5px 0 $bg, 5px -5px $bg, -5px 5px $bg, -5px -5px $bg;
		color: $textColor;
		padding: $padding;
		text-align: center;
		@include vendor-prefix (transition, 0.2s all ease-in-out);

		.leaflet-popup-content {
			font-family: $opensans;
			font-size: 1.06375em;
			font-weight: 400;
			line-height: 1.5em;
			margin: 0;
			padding: 0;
		}
	}

	.leaflet-popup-tip {
		border-top: 10px solid $bg;
		box-shadow: none;
	}
}

.route-marker {
	height: 35px;
	width: 28px;

	span {
		color: #fff;
		height: 28px;
		font-family: $display;
		font-size: 1.25em;
		font-weight: normal;
		line-height: 28px;
		position: absolute;
		text-align: center;
		width: 28px;
		z-index: 99999;
	}
}

// Marker Clusters
.poi-cluster {
	background-size: contain;
	background-repeat: no-repeat;
	background-position: 50% 50%;
	color: $textColor;
	font-weight: $bold;
	text-indent: 28px;
}

.poi-cluster-state-park {
	@extend .poi-cluster;
	background-image: url(../img/icon-statepark_campsite.svg);
}

.poi-cluster-campground {
	@extend .poi-cluster;
	background-image: url(../img/icon-campsite.svg);
}

.poi-cluster-historic-district {
	@extend .poi-cluster;
	background-image: url(../img/icon-historic_district.svg);
}

.poi-cluster-bikeshop {
	@extend .poi-cluster;
	@extend .leaflet-marker-icon.bikeshop;
	background-position: 50% 49%;
	background-size: 22px 13px;
	background-image: url(../img/icon-bike-white.svg);
}

// default marker cluster style over rides
.marker-cluster-small,
.marker-cluster-medium,
.marker-cluster-large {
	background-color: rgba($markerColor, 0.6);

	div {
		background-color: rgba($markerColor, 0.6);
	}
}

.leaflet-marker-icon.bikeshop {
	background-color: rgba(101,101,104,0.98);
	border-radius: 50%;
	height: 28px;
	line-height: 25px;
	padding: 3px;
	width: 28px;
}

/* Leaflet Overrides  ** =================================================== */
.leaflet-container {

	circle, polyline, path {
		@include vendor-prefix(transition, 0.1s all ease-in-out);
	}

	.leaflet-left {
		left: 0;
		top: 5.25rem;
	}

	.leaflet-control {
		border: none;
		box-shadow: none;
		border-radius: 0;
		margin: 0;

		&.leaflet-bar, &.leaflet-control-layers {
			background-color: transparent;
		}

		a {
			background-image: none;
			background-color: transparent;
			border-bottom: none;
			border-radius: 0;
			color: $textColor;
			font-family: $opensans;
			font-weight: $med;
			font-size: 2rem;
			height: 2.125rem;
			line-height: 2.125rem;
			opacity: 1;
			position: relative;
			text-indent: 0;
			width: 2.9375rem;
			-webkit-font-smoothing: antialiased;
			@include vendor-prefix(transition, 0.2s opacity ease-in-out);

			&:active {
				border-radius: 0;
			}

			&.leaflet-control-zoom-out {
				color: transparent;

				&:before {
					color: $textColor;
					content: '--';
					height: 100%;
					line-height: 1.875rem;
					left: 0;
					letter-spacing: -0.1em;
					position: absolute;
					text-align: center;
					text-indent: -0.1em;
					top: 0;
					width: 100%;
				}
			}

			&.mapbox-icon-geocoder {
				background-image: url('../img/icon-geocoder.svg');
				background-size: 58%;
				background-position: 50% 50%;
				border-bottom: none;
			}

			&.leaflet-control-fullscreen-button {
				background-image: url(../img/icons-ffffff@2x.png);
				background-size: 90%;
				background-position: 50% 55.5%;
			}

			&.mapbox-info-toggle {
				background-color: rgba(255,255,255,0.5);
				background-image: url(../img/icons-000000@2x.png);
				background-size: 26px 260px;
				background-position: 0 -78px;
				border-bottom: none;
				border-radius: 50%;
				height: 26px;
				line-height: 20px;
				opacity: .75;
				position: absolute;
				width: 26px;

				&:active, &:focus {
					border-radius: 50%;
					height: 26px;
					opacity: 1;

					&:last-child {
						border-bottom: none;
					}
				}
			}
		}

		.map-info-container {
			background-color: rgba(255,255,255,0.75);
			font-family: $opensans;
			font-weight: 400;

			a {
				background-color: transparent;
				background-image: none;
				border-bottom: none;
				border-radius: 0;
				color: #666;
				font-family: $opensans;
				font-weight: 400;
				font-size: .75em;
				height: auto;
				line-height: normal;
				opacity: .75;
				width: auto;
			}
		}

		.leaflet-disabled {
			background-color: #e1e1e1;
			color: $textColor;
		}

		.leaflet-control-layers-toggle,
		.mobile-tap {
			background-image: url(../img/icons-000000@2x.png);
			background-position: 50% -124px;
			background-size: 70%;
			display: block;
			@include vendor-prefix(transition, 0.1s all ease-in-out);
		}

		.mobile-tap {
			background-position: 50% -62px;
			opacity: .7;
		}
	}

	.leaflet-control-layers-base {

		label {
			display: block;
			margin-bottom: 2px;
			position: relative;

			&:last-child {
				margin-bottom: 0;
			}
		}

		span {
			color: #717179;
			font-size: .6875em;
			line-height: 20px;
		}

		.leaflet-control-layers-selector {
			cursor: pointer;
			height: 20px;
			left: 0;
			margin: 0;
			opacity: 0;
			position: absolute;
			top: 0;
			width: 100%;
			@include vendor-prefix (appearance, none);

			&:checked {

				& + span {
					color: $textColor;
					font-weight: 900;
					font-size: .75em;
				}
			}
		}
	}

	.leaflet-control-layers-overlays {
		@extend .leaflet-control-layers-base;
	}

	.leaflet-control-layers-separator {
		border-top: 1px solid #fff;
		margin: 3px -12px 3px;
	}

	.leaflet-control-layers-expanded {
		background-color: transparent;
		color: #fff;
		font-family: $sans;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		padding: 0;

		.leaflet-control-layers-list {
			background-color: #f1f1f1;
			left: 3rem;
			padding: 6px 12px;
			position: absolute;
			top: 0;
			min-width: 180px;
		}

		input {
			border: none;

			&:checked {
				background: transparent;
			}
		}
	}

	img.leaflet-marker-icon {
		top: -11px;
		width: 10px;
	}

	.leaflet-control-attribution {

		a {
			background: transparent;
			border-bottom: none;
			color: #999;
			font-family: $sans;
			font-size: .8125em;
			height: auto;
			line-height: 2em;
			text-transform: none;
			width: auto;
		}
	}

	.leaflet-control-mapbox-geocoder-wrap {
		background-color: #b9babc;
		border: none;
		border-left: 2px solid #fff;
		border-radius: 0;
		color: #fff;
		display: inline-block;
		height: 30px;
		left: 30px;
		top: 0;

		.leaflet-control-mapbox-geocoder-form {

			input {
				height: 30px;
			}
		}
	}

	.leaflet-control-mapbox-geocoder.active {

		.leaflet-control-mapbox-geocoder-results {
			background: transparent;
			border: none;
			border-top: 2px solid #fff;
			left: 32px;
			position: absolute;
			top: 30px;

			a {
				background-color: $lightGrey;
				border: none;
				border-bottom: 2px solid #fff;
				font-family: $sans;
				font-size: .8125em;
				line-height: 30px;
				text-align: left;
				width: 178px;
			}
		}
	}
}

.leaflet-right.leaflet-top {
	bottom: 5vh;
	right: 5%;
	top: auto;
	z-index: 2;
}

.leaflet-right {
	z-index: 1;
}

.leaflet-bar a {
	text-align: center;
}

.query-result {
	background: $bg;
	border-bottom: 2px solid #fff;
	display: block;
	font-size: .75em;
	overflow: hidden;
	padding: .75rem;
	text-overflow: ellipsis;
	white-space: nowrap;

	&:last-of-type {
		border-bottom: none;
	}
}